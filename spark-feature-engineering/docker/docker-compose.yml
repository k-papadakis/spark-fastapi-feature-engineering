version: '3.9'


services:

  namenode:
    build:
      context: ./
      target: namenode
    ports:
      - 9870:9870
    # volumes:
    #   - namenode:/hadoop/dfs/name

  datanode1:
    build:
      context: ./
      target: datanode
    # ports:
    #   - 9864:9864
    depends_on:
      - namenode
    # volumes:
    #   - datanode:/hadoop/dfs/data

  datanode2:
    build:
      context: ./
      target: datanode
    depends_on:
      - namenode

  resourcemanager:
    build:
      context: ./
      target: resourcemanager
    ports:
      - 8088:8088
    depends_on:
      - namenode

  nodemanager:
    build:
      context: ./
      target: nodemanager
    depends_on:
      - namenode

  proxyserver:
    build:
      context: ./
      target: proxyserver
    depends_on:
      - namenode

  historyserver:
    build:
      context: ./
      target: historyserver
    ports:
      - 19888:19888
    depends_on:
      - namenode


# volumes:
#   namenode:
#   datanode:
